<!DOCTYPE html>
<html >
<head>
<meta charset="UTF-8">

  <!-- Basic Page Needs
   -->
  
  <title>Blender for Biology</title>
  <meta name="description" content="Blender for molecular biology">
  <meta name="author" content="Yutaka Ueno">

  <!-- Mobile Specific Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- FONT -->

  <!-- CSS   -->
  <!--  not used <link rel="stylesheet" href="XXXXXccs/normalize.css"> -->
  <link rel="stylesheet" href="/blendmb/skeleton.css">
  <link rel="stylesheet" href="/blendmb/custom.css">

  <link rel="stylesheet" href="/blendmb/coolwebwindow.css" type="text/css">

<style type="text/css">
  video::-webkit-media-controls-fullscreen-button {
    display: none;
}
</style>


  <link rel="icon" type="image/png" href="/images/cbrcAsmall.jpg">

</head>

<body class="code-snippets-visible">

  <!-- Primary Page Layout  -->
<div class="container" id="main">

<!-- navigation menu bar may be used here -->

    <!-- Why use Skeleton -->
    <div class="section">
      <p> </p>
      <h3 class="docs-header">Blender for Molecular Biology</h3>
      <p>
      Describing functions of biological macromolecules are demonstrated by computer animation using 3D CG software Blender. Here the free software Blender allows smooth exchange of the animation scripts developed among users. There are blender script files and the parts of the molecular objects are demonstrated. Although these models and scene graphics needs to be improved for the production uses in animation studios, this development project is ongoing to provide the parts of molecular animation.
      </p>
      

<!-- -->
    </p></div>  <!-- section  -->


<!--ONE --------------------------------------------  -->
    <div class="example">
      <h2 class="docs-header">Modeling Molecular Interaction of Actin and Myosin</h2>
      <p>The thick filament and thin filament in the skeletal muscle are placed on the scene to examine interact by the motor protein molecules myosin to the actin on the thin filament. The sliding of two filaments may be caused by the myosin head. The laver-arm hypothesis explains the movements are considered to provide a force to pull a thin filament. The model shows an example of such a motion where the interactions between myosin head on the actin polymers. Using these models, we may also examine the long distance walk of myosin head may also examine on this model.

      </p>
      
	<!--  -->
      <div class="row example">
        <a class="example-screenshot-wrapper">
         <video width="320" heigh="180" poster="/blendmb/actmy6-w320.png" loop="" controls="" preload="">
<source src="actmy6-w320.mp4" type="video/mp4">
<p>sorry, html5 video could be presented on a new browser</p>
</video>
        </a>
        <div class="one-half offset-by-one-half column">
          <h5 class="example-header">file</h5>
          <p class="example-description">
               </p><dl>
                  <dt>blender script <a href="/blendmb/blender279/ActMyosin-ito6.blend">ActMyosin-ito6.blend</a></dt>
<!--
                  <dd>ミオシンフィラメント<a href="emd1950s50bone.stl">emd1950s50bone.stl</a> </dd>
                  <dd>アクチンフィラメント <a href="fa.stl">fa.stl</a></dd>
                  <dd>ミオシン <a href="2mys.stl">2mys.stl</a></dd>
-->
               <dt>saved media　<a href="/blendmb/mpeg2/actmy6-w640.mpg">actmy6-w640.mpg</a></dt>
               </dl>
		  <p></p>
		  <p>. </p>  <!-- space -->

        </div>　<!-- one-half -->
      </div> 　<!-- row example -->  

      <p class="example-description">
	  </p><p>The myosin heads are placed at 14.3nm interval where molecular interactions of them are not yet known, however a tentative laver-arm motions are applied in the animation script. PDB data 1ATN for actin (rabbit skeletal) polymerized as Holmes model, 2MYS for the myosin head (chicken cardiac) are  depicted as surface model using UCSF Chimera, then saved as polygon mesh data in STL file format. The thick filament model was imported by EMDatabase #1950. The embedded myosin heads are tentatively removed from the volume by hand works, using the Volume Erase function in UCSF Chimera.
	  ... Tools -&gt; Volume Data -&gt; Volume Erasor)
		</p>
    </div>
	<!-- end of section  -->


<!--ONE --------------------------------------------  -->
    <div class="example">
      <h2 class="docs-header">Tredmilling of Actin</h2>
      <p>The actin filament moves in the cell by tredmilling that actin polymerize one end and depolymerize on the other end. Taking advantage of the particle method function in Blender, this primitive model demonstrate the random suspension of actin monomers are driven to the filament.
In this animation, all actin monomers approached will align to fit the helical formation, although it would never happen in nature. Thus we may need to introduce some of actins failed to polymerize and dropped out from the filaments.



      </p>
      
	<!--  -->
      <div class="row example">
        <a class="example-screenshot-wrapper">
        <video width="320" heigh="180" poster="tred05-w320.png" loop="" controls="" preload="">
<source src="tred05-w320.mp4" type="video/mp4">
<p>sorry, html5 video could be presented on a new browser</p>
</video>
        </a>
        <div class="one-half offset-by-one-half column">
          <h5 class="example-header">file</h5>
          <p class="example-description">
               </p><dl>
               <dt>blender script <a href="/blendmb/blender279/tred05.blend">
               					tred05.blend</a></dt>
               <dt>saved media　<a href="/blendmb/blender279/tred05-w640.mpg">
               					tred05-w640.mpg</a></dt>
		  <p></p>
		  <!--　<p>. </p>  -- space -->
		  		  <p>. </p>  <!-- space -->

        </dl></div>　<!-- one-half -->
      </div> 　<!-- row example -->  

      <p class="example-description">
	  </p><p>
Blender version 2.5 introduced a major improvement in the particle system which allows object move by physics simulation. The actin filament is made with 78 helical arrays of rectangles, where the "emitter" mode is used to locate actin on the helix, taking "emit form" as "Faces" at the same number of emission 78. The times for the emission start and stop are controlled to give a good elongation cycle. There is "keyed" option in the Physics tab in the object property sheet, the emitted particle target are specified. Two big rectangle planes are used as the targets so that particle traverses to the other end of the filament. This is a chain of the particle emitter in Blender specifying beginning and ending time. In case the motions are not always satisfactory for the use in other animation script, we may convert these motions into the sequence of key frame animation..
		</p>
    </div>
	<!-- end of section  -->
<!--ONE --------------------------------------------  -->
    <div class="example">
      <h2 class="docs-header">In Vitro Motility Assay</h2>
      <p>The in vitro experimental assay is useful to observe motility of kinesin molecules fixed on a plate that allows microtubule filaments to slide on the plate. The motions of microtubules are tracked by attached fluorescence by the microscope. This animation picture demonstrates how the molecules reside in this plate. The motion of microtubule is in the predefined path because a realistic simulation for the motility is not available. 




      </p>
      
	<!--  -->
      <div class="row example">
        <a class="example-screenshot-wrapper">
        <video width="320" heigh="180" poster="/blendmb/view-ivma10-w320.png" loop="" controls="" preload="">
<source src="view-ivma10.mp4" type="video/mp4">
<p>sorry, html5 video could be presented on a new browser</p>
</video>
        </a>
        <div class="one-half offset-by-one-half column">
          <h5 class="example-header">file</h5>
          <p class="example-description">
               </p><dl>
               <dt>blender script <a href="/blendmb/blender279/view-ivma10.blend">
               					view-ivma10.blend</a></dt>
                  <dd>a tublin texture on a cylinder<a href="/blendmb/data/mt13sidetop1.png">
                  				mt13sidetop1.png</a></dd>                 <dd>texture mapping work on Blender <a href="/blendmb/blender279/mt13-3ab2-texture.blend">
                  				mt13-3ab2-texture.blend</a></dd>  
               <dt>saved media　<a href="/blendmb/mpeg2/view-ivma10.mpg">
               					ivma10.mpg</a></dt>
		  <p></p>
		  <!--　<p>. </p>  -- space -->

        </dl></div>　<!-- one-half -->
      </div> 　<!-- row example -->  

      <p class="example-description">
	  </p><p>This microtubule is a flexible cylinder mesh with texture mapping display of the tubulin monomers, so that a lot of microtubules may be introduced. The texture mapping procedure in Blender was saved in the script file that can also export as a different polygon mesh model format.
		</p>
    </div>
	<!-- end of section  -->
<!--ONE ------------------------------------------->
    <div class="example">
      <h2 class="docs-header">A Closer Look at Kinesin and Microtuble Interaction</h2>
      <p>On a hypothetical model of kinesin bound to a microtubule filament this movie demonstrates a camera work to look into the molecular interaction of these proteins. The Microtubule made up with alpha and beta tubulin monomers, colored in yellow and purple, in a helical arrangement.
 

      </p>
      
	<!--  -->
      <div class="row example">
        <a class="example-screenshot-wrapper">
        <video width="320" heigh="180" poster="/blendmb/mt14-w320.png" loop="" controls="" preload="">
<source src="mt14-w320.mp4" type="video/mp4">
<p>sorry, html5 video could be presented on a new browser</p>
</video>
        </a>
        <div class="one-half offset-by-one-half column">
          <h5 class="example-header">file</h5>
          <p class="example-description">
               </p><dl>
                     <dt>blender script <a href="/blendmb/blender279/mt14.blend">mt14.blend</a></dt>
 	<dt>saved media　<a href="/blendmb/blender279/mt14-w640.mpg">mt14-w640.mpg</a></dt>
               </dl>
		  <p></p>
		  <p>. </p>  <!-- space -->

        </div>　<!-- one-half -->
      </div> 　<!-- row example -->  

      <p class="example-description">
	  </p><p>
	
 PDB data 3KIN atomic coordinates only provides 372 amino acid residues, so that tail regions in an alpha helix coiled-coil was inserted from other protein, tropomyosin 1CGA PDB data, additional 89 residues aligned by additional 8 residues overlap, and resulting 17 nm in length. The polygon mesh file in OBJ format was used.

		</p>
    </div>
	<!-- end of section  -->
	
<!--ONE -------------------------------------------->
    <div class="example">
      <h2 class="docs-header">a theoretical model of artificial muscle</h2>
      <p>An application of muscular proteins for the motility system has been
      studied molecular robot. Dr.Shin-ichro M. Nomura at Tohoku University reported
    possible construcion of an artificial cell yielding motitliy wby motor proteins. This animation demonstrates how the motor proteins work inside the
      molecular robot. Here only two of microtuble filaments are depicted that 
      moves by kinesion motor to push each other filaments toward outer membrane of the cell.
      </p>
      
	<!--  -->
      <div class="row example">
        <a class="example-screenshot-wrapper">
        <video  width=320 heigh=180 poster="/blendmb/brobo13s-w320.png" loop controls preload>
<source src="brobo13s-w320.mp4" type="video/mp4">
<p>sorry, html5 video could be presented on a new browser</p>
</video>
        </a>
        <div class="one-half offset-by-one-half column">
          <h5 class="example-header">file</h5>
          <p class="example-description">
               <dl>
                     <dt>blender script <a href="/blendmb/blender279/brobo13.blend">brobo13.blend</a></dt>
 <!--      <dd>tublin <a href="mt13sidetop1.png">mt13sidetop1.png</a></dd>　-->
 	<dt>saved media　<a href="brobo13s.mpg">brobo13s.mpg</a></dt>
               </dl>
		  </p>
		  <p>. </p>  <!-- space -->

        </div>　<!-- one-half -->
      </div> 　<!-- row example -->

      <p class="example-description">
	  <p>
	Kinesin and microtubles are the same as previous example.
		</p>
    </div>

	<!-- end of section  -->


<!--ONE --------------------------------------------  -->
    <div class="example">
      <h2>Alpha-Amylase</h2>
      <p>A hypothetical working model of alpha-amylase, the enzyme for the hydration of starch. A hypothetical working model of alpha-amylase, the enzyme for the hydration of starch is demonstrated. An amylose, a chain with 10 glucose monomers, approaches to the active site of the alpha-amylase and divided into some maltose molecules in a raw. The path was predefined from handworks, because it was not yet known how the molecule recruits this substrate into the active site. The thermal vibration of the amylase is introduced by a composition of the vibrational mode from the normal mode analysis. The amplitude was 5 times larger than the room temperature behavior to exaggerate the movements. The active site of the enzyme stays in an original conformation, while the loop regions move a lot suggesting some help for the work of this enzyme.

      </p>
      
      <dd>our method for this motion file is described in a page:<a href="https://uenoyt.github.io/skelmol/"</a> skeletal animation for macromolecules </a></dd>

	<!--  -->
      <div class="row example">
        <a class="example-screenshot-wrapper">
          <video width="320" heigh="200" poster="/blendmb/amy1a-w320.png" loop="" controls="" preload="">
<source src="amy1a-w320.mp4" type="video/mp4">
<p>sorry, html5 video could be presented on a new browser</p>
</video>
        </a>
        <div class="one-half offset-by-one-half column">
          <h5 class="example-header">file</h5>
          <p class="example-description">
               </p><dl>
               <dt>blender script <a href="/blendmb/blender279/maltose10.blend">maltose10.blend</a></dt>
      <dt>motion file <a href="/blendmb/data/mr08-1amy.bvh">mr08-1amy.bvh</a></dt>

      <dt>saved media　</a><a href="/blendmb/mpeg2/amy1a.mpg">amy1a.mpg</a></dt>

               </dl>
		  <p></p>
		  <!--　<p>. </p>  -- space -->

        </div>　<!-- one-half -->
      </div> 　<!-- row example -->  

      <p class="example-description">
	  </p><p>
The ribbon model from the PDB data 1AMY is saved as STL polygon mesh format, and imported by Blender. Ball and stick model of amylose is made by Bioblender, an add-on software for Blender, 3'and 5' oxgen of maltose is colored in pink and red at different material type, they are overlapped in the connected chain. In Blender, "follow path" modifier is used to follow the chain along a freehand path of Bezier curve, at the constraint parameter 0.5. Each maltose was dispatched from the active site using key frame pose with rotation and location on the time line editor.

	</p>
	</div>
	<!-- end of section  -->


<!--ONE --------------------------------------------  -->
    <div class="example">
      <h2>Atomic model of active site in alpha-amylase</h2>
      <p>The atomic model is animated based on the PDB coordinates data and the in between structures are interpolated. The ribbon model and ball-and-stick model were generated using UCSF chimera and saved as X3D polygon models. Using models of confomational change for the atomic coordinates of the protein were reported at EzCatDB Enzyme database. This is an example of the morphing animation for these different PDB data to describe the chemical reaction of the enzyme.
      </p>

	<!--  -->
      <div class="row example">
        <a class="example-screenshot-wrapper">
           <video width="320" heigh="234" poster="/blendmb/ez1amy-t3e5g1.png" loop="" controls="" preload="">
<source src="ez1amy-t3e5g1-s.mp4" type="video/mp4">
<p>sorry, html5 video could be presented on a new browser</p>
</video>
        </a>
        <div class="one-half offset-by-one-half column">
          <h5 class="example-header">file</h5>
          <p class="example-description">
               </p><dl>
                 <dt>blender script<a href="/blendmb/blend/ez1amy-t3e5g1.blend">ez1amy-t3e5g1.blend</a>
                 </dt>
 	<dt>saved media　<a href="/blendmb/ez1amy-t3e5g1.mp4">ez1amy-t3e5g1.mp4</a></dt>
               </dl>
		  <p></p>
		  <p>. </p>  <!-- space -->
		  <p>. </p>  <!-- space -->
		  <p>. </p>  <!-- space -->
        </div>　<!-- one-half -->
      </div> 　<!-- row example -->  

      <p class="example-description">
	  </p><p>
	THe atomic models for the reaction intermediates are obtained at EzCatDB.
	
    </p></div>
	<!-- end of section  -->

<!-- -------------------------------------------------- -->
      <div>  <!-- misc note  -->
               <h2>Tips for Blender</h2>

<!--ONE --------------------------------------------  NOTYET
               <h3>ウインドウ分割</h3>
               <p>
			   各種ウインドウを分割する際に、分割枠の右上と左下の三角マークを操作するのは直感的でなく理解しずらい。それでも、この直角三角形の直角な２辺が枠を閉じる操作、４５度の向きが枠を作成する操作と考えると理解しやすい。枠を閉じる操作は、並列した枠を合体して長方形にならなければ操作は何も反映されない。公式のwikiにあるように、境界線上で右クリックして開くメニューは意外と操作が面倒。
               </p>
               <h3>オブジェクトの実体をコピーしない複製</h3>
               <p>
			   Duplicate Object では、mesh等のオブジェクトをコピーしないで配置できるが、動画作成時に位置がずれる等正しく描画できない問題があり、すべて実体を複製してレンダリングする必要があった。
               </p>
                <h3>大規模なモデル</h3>
                <p>
               一般に1000個以上のオブジェクトを配置するとblenderの操作が重くなる。メモリ増設やグラフィックカード変更してもさほど変わらない。特にタンパク質の原子モデルで数千原子程度になるので、ボールスティックモデルや空間充填モデルは重い。さらに、bioblender等の拡張機能による読み込みに何分と非常に時間がかかる事が多いが、これはblenderのAPIによるオブジェクト作成にかかる時間であり避けられない。ただし、一度blenderfileに保存すれば読み込みは高速になるが、全体的な操作の重さは変わらない。球は多面体で表示するため、8面体等にすれば多少は軽くなる。ポリゴンのモデルは複雑でも比較的高速に表示と操作ができるので、１つの複雑なオブジェクトを作成し、オブジェクトの数を減らすのが得策である。例えば、PDBモデル1A00のヘモグロビンの4量体をインポートすると約4000原子であり、全原子を球で表したモデルを扱うのは難しい。α炭素だけのモデルで794残基となり利用可能な範囲となる。一方で、リボンモデルでは28万ポリゴンになり、約56MBのメモリを消費するが、重くなることは無かった。
               </p>
				<h3>パスに沿ったメッシュ変形</h3>
                <p>
               blenderには複数の多様な手段があるが便利なのは２つの方法であった。曲線に沿った変形がなければ、constraintのFollowCurve、または変形があればmodifierのDeform-Curveのどちらか。いずれも、平行移動の動作を曲線にのせるので、keyframeで動作を入れる場合は曲線を見ながら希望の位置に指定することはできない。変数で指定する。例えばｘ軸を曲線に割り当てたらobjectのtransformの数値を変化させて希望の位置に移動させた。この時、ｙ、ｚの成分が曲線から離れる量となってメッシュが歪む事があった。またobjectの向きを変更するには曲線の法線を変更するのが解りやすい様であった。オブジェクトを直接操作しようとすると画面上とは向きが異なるので希望の向きにする操作は困難であった。
               </p>
               	<h3>Camera works</h3>
                <p>
               指定した曲線にカメラを乗せて注目する点を撮影する方法が紹介されているが、パスへのconstraintを付けるとその束縛が面倒になるので、何点かをキーフレームとして指定していくだけにする事で十分であった。この場合はそれぞれのキーフレームで注目点やアングルを変更することができる。カメラをobjectとして選択しておいて、cameraのViewを表示してGキーで移動、またはRキーで回転することで自然に変更可能。
               </p>
<!--END                
-->

              　<h3>Movie File Conversion</h3>
                <p>
               Among variations of video format conversion tools available, ffmpeg was mainly used because of rich functions and low problem rate. In our development days, mpeg2 format was useful, however, currently mpeg4 format at specific codec is nice to take. 
               </p>
                  <dt>Combining mpeg files </dt>
                  <dd>ffmpeg -i one.mpeg -i two.mpg join.mpg</dd>
                  <dt>Making a movie of 3 seconds still image</dt>
                  <dd>ffmpeg -loop_input -i one.png -t 3 -f mpeg2video -qscale 1 one.mpg</dd>
                  <dt>Size conversion, 640x400 at bit rate 6M</dt>
                  <dd>ffmpeg -i one.mpg -s 640x400 -b 6000k resized.mpg</dd>
                  <dt>portable mpeg4 320x180</dt>
                  <dd>ffmpeg  -i one.mpg -y -strict experimental -acodec aac -ac 2 -vcodec libx264 -pix_fmt yuv420p  -preset slow -profile:v baseline -s 320x180  one.mp4 </dd>
               

               <h2>Others</h2>
 
               <h4>Working Environment</h4>
               <dl>
                  <dt>blender</dt>
                  <dd>ver 3.0 and 2.70a, windows7 64bit</dd>
                  <dt>UCSF chimera</dt>
                  <dd>ver 1.8 (build 38824), 2013, windows7 64bit</dd>
                  <dt>PC</dt>
                  <dd>windows7 64bit, core-i7-3770S (3.10GHz) 8GB</dd>
               </dl>
				<h4>Acknowledgments</h4>
				<dt>These animation scripts were collaboration works with Shuntaro Ito, Nobuya Muraoka from Graduate School of Information Science, Nara Institute of Science and Technology.
The atomic models for the active site conformations of alpha-amylase were from EzCatDB database by Dr.Nozomi Nagano. The web site was made using a design-template by CoolWebWindow, and getskelton.com for layout management to the smart phones.

<p>This work was supported by JSPS KAKENHI Grant Number 20K12072 and 24104004. The software was developed at
a research institute, National Institute of Advanced Industrial Science and Technology (AIST)</p>
Questions and comments are welcome using web-based GitHub Issue report.
<br>
repository https://github.com/uenoyt/blendmb
<hr>
2023 Dec 24, Yutaka Ueno, Tsukuba, Japan


            </dt></div><!-- /misc note  -->
         </div><!-- /#main -->
    <!-- container ------------------------------  -->
<!-- End Document  -->


</body></html>
